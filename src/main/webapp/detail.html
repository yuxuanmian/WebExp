<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>书籍详细界面</title>
    <link href="css/sign.css" rel="stylesheet" type="text/css">
    <style>
        .td1{
            width: 18%;
        }
        .td2{
            width: 10%;
        }
        .td3{
            width: 18%;
            height: 15%;
        }
        .div{
            background-color: bisque;
            width: 80%;
            height:110%;
            margin: 0 auto;
        }
        span{
            font-family: "Microsoft YaHei UI",微软雅黑,serif;
        }
        .find{
            position:absolute;
            left: 40%;
            top: 0;
        }
        .logo{
            position:absolute;
            top:0px;
            right: 10%;
            height: 200px;
            width: 200px;
        }
        #div1{
            width: 100%;
            height: 60%;
            position:absolute;
            top: 150px;
            left: 10%;
        }
        #buyit{
            position:absolute;
            left: 25%;
            top:500px;
        }
        #buy{
            font-size: 30px;
            border-radius: 5px;
        }
        #borrowit{
            position:absolute;
            left: 45%;
            top:500px;
        }
        #borrow{
            font-size: 30px;
            border-radius: 5px;
        }
        #span{
            font-size: 25px;
            font-weight: bold;
        }
        .h3{
            color: green;
        }
    </style>
</head>
<body>
<div class="div">
    <table id="table" border="2" height="10px">
        <tr style="text-align: center ">
            <td height="10px"><a href="login.html"><h3 class="h3">重新登录</h3></a> </td>
            <td><a href="create.html"><h3 class="h3">注册账号</h3></a> </td>
            <td><a href="uploading.html"><h3 class="h3">提交图书</h3></a> </td>
            <td><a href="sign.html.html"><h3 class="h3">主界面</h3></a> </td>
            <td><a href="searchbook.html.html"><h3 class="h3">搜寻界面</h3></a> </td>
            <td><a href="borrowbook.html"><h3 class="h3">借阅界面</h3></a> </td>
        </tr>
    </table>
<div id="all">
    <div class="logo">
        <img src="thing/diugai.com162322863666714.png">
    </div>
    <div class="find">
        <p>亲爱的用户，欢迎！</p>
        <input type="text" name="search" id="search" placeholder="有感兴趣的书吗?">
        <button id="submit">搜索</button>
    </div>
    <div id="div1" >
        <table  border="3px" width="1000px" bgcolor="#a9a9a9"  >
            <caption><span id="span">书籍详细</span></caption>
            <tr height="100px" align="center" >
                <td rowspan="3"  id="photo" height="345" width="268"></td>
                <td class="id1"><span>书籍名称</span></td>
                <td class="id2"><span>作者</span></td>
                <td class="id2"><span>价格</span></td>
                <td class="id1"><span>出版社</span></td>
            </tr>
            <tr align="center">
                <td id="bookname"></td><td id="author"></td><td id="price"></td><td id="publisher"></td>
            </tr>
            <tr align="center">
                <td><span>详细介绍</span></td><td id="message" colspan="4"></td>
            </tr>
        </table>
        <div id="buyit">
        <button type="button" id="buy">购买</button>
        </div>
        <div id="borrowit">
            <button type="button" id="borrow">借阅</button>
        </div>
    </div>
</div>
</div>


<script>
    window.onload=function (){
        let xhr=new XMLHttpRequest();
        xhr.open("get","ShowBookDetail");
        xhr.send();



        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if (xhr.status >= 200 && xhr.status < 300) {
                    let result=JSON.parse(xhr.response);
                    fillTheBlank(result);
                }
            }
        }
    }

    function fillTheBlank(res){
        document.getElementById("author").innerText=res.bauthor;
        document.getElementById("price").innerText=res.bprice;
        document.getElementById("bookname").innerText=res.bname;
        document.getElementById("publisher").innerText=res.bpublisher;
        document.getElementById("photo").innerHTML="<img src='"+res.imgurl+"' alt='书籍图片'>"
        document.getElementById("message").innerHTML="<p>"+res.introduction+"</p>";
    }
</script>

</body>
</html>


<!--还未调试--->